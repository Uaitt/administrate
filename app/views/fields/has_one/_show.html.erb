<%#
# HasOne Show Partial

This partial renders a has_one relationship,
to be displayed on a resource's show page.

All show page attributes of has_one relationship would be rendered

## Local variables:

- `field`:
  An instance of [Administrate::Field::HasOne][1].
  A wrapper around the has_one relationship pulled from the database.

[1]: http://www.rubydoc.info/gems/administrate/Administrate/Field/HasOne
%>

<% if field.linkable? %>
  <section class="attribute--nested">
    <h1>
      <nav class="attribute--nested--legend">
      <%= link_to_if(
        accessible_action?(field.data, :show),
        field.display_associated_resource,
        [namespace, field.data],
      ) %>
      </nav>
    </h1>
    <% field.nested_show.attributes.each do |title, attributes| -%>
      <section class="<%= "field-unit--nested" if title.present? %>">
        <% if title.present? %>
          <h1>
             <nav class="<%= "field-unit--legend" %>">
               <%= t "helpers.label.#{namespace}.#{title}", default: title %>
             </nav>
          </h1>
        <% end %>

        <% attributes.each do |attribute| %>
          <dt class="attribute-label">
            <%= t(
              "helpers.label.#{field.associated_class_name.underscore}.#{attribute.name}",
              default: attribute.name.titleize,
            ) %>
          </dt>
          <dd class="attribute-data attribute-data--<%= attribute.html_class %>">
            <%= render_field attribute, { page: page } %>
          </dd>
        <% end %>
      </section>
    <% end -%>
  </section>
<% end %>
